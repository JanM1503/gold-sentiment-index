
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Gold Sentiment Index Dashboard</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 30px;
}
.card {
    background: #fff;
    padding: 30px;
    border-radius: 16px;
    max-width: 650px;
    margin: 0 auto;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
}
.gauge-wrapper {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}
canvas {
    width: 100%;
}
.gauge-value {
    font-size: 48px;
    font-weight: bold;
    text-align: center;
    margin-top: 12px;
}
.gauge-label {
    text-align: center;
    text-transform: uppercase;
    color: #444;
}
.updated {
    text-align: center;
    font-size: 12px;
    color: #555;
    margin-top: 8px;
}
.bands {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    margin-top: 10px;
}
.bands span {
    flex: 1;
    text-align: center;
}
</style>

</head>
<body>

<h1>Gold Sentiment Index (GSI)</h1>
<p>News-driven gold sentiment, scaled 0–100</p>

<div class="card">
    <div class="gauge-wrapper">
        <canvas id="gaugeChart" width="600" height="300"></canvas>
    </div>

    <div class="bands">
        <span>
            Extreme Fear<br>
            <small>0–25</small>
        </span>
        <span>
            Fear<br>
            <small>25–45</small>
        </span>
        <span>
            Neutral<br>
            <small>45–55</small>
        </span>
        <span>
            Greed<br>
            <small>55–75</small>
        </span>
        <span>
            Extreme Greed<br>
            <small>75–100</small>
        </span>
    </div>


    <div class="gauge-value">79</div>
    <div class="gauge-label">Extreme Greed</div>
    <div class="updated">Last updated: 02.12.2025 14:10 (Zurich)</div>
</div>

<script>
const value = 79.22222689352101;

const canvas = document.getElementById("gaugeChart");
const ctx = canvas.getContext("2d");

const W = canvas.width;
const H = canvas.height;

const cx = W / 2;
const cy = H * 0.9;

const outerR = Math.min(W * 0.9, H * 1.8) / 2;
const innerR = outerR * 0.6;

function angle(v) {
    return Math.PI * (1 - v / 100.0);
}

function drawBand(startV, endV, color) {
    const start = angle(startV);
    const end = angle(endV);

    ctx.save();
    ctx.beginPath();
    ctx.strokeStyle = color;
    ctx.lineWidth = outerR - innerR;
    const r = (outerR + innerR) / 2;
    // Draw the short arc over the top of the semicircle. Because start > end
    // (e.g. π to ~0), we must set anticlockwise=true; otherwise Canvas wraps
    // almost all the way around and later segments overwrite earlier ones.
    ctx.arc(cx, cy, r, start, end, true);
    ctx.stroke();
    ctx.restore();
}

function drawGauge(v) {
    ctx.clearRect(0, 0, W, H);

    drawBand(0, 25,  "#dc2626");
    drawBand(25, 45, "#fecaca");
    drawBand(45, 55, "#d1d5db");
    drawBand(55, 75, "#86efac");
    drawBand(75, 100,"#16a34a");

    ctx.save();
    ctx.beginPath();
    ctx.arc(cx, cy, innerR * 0.9, 0, Math.PI * 2);
    ctx.fillStyle = "#ffffff";
    ctx.shadowColor = "rgba(0,0,0,0.15)";
    ctx.shadowBlur = 10;
    ctx.fill();
    ctx.restore();

    const a = angle(v);
    const nx = cx + Math.cos(a) * (outerR * 0.95);
    const ny = cy - Math.sin(a) * (outerR * 0.95);

    ctx.save();
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(nx, ny);
    ctx.lineWidth = 4;
    ctx.strokeStyle = "#111827";
    ctx.stroke();
    ctx.restore();

    ctx.beginPath();
    ctx.arc(cx, cy, 6, 0, 2 * Math.PI);
    ctx.fillStyle = "#111827";
    ctx.fill();
}

drawGauge(value);
</script>

</body>
</html>
